import{d as k,_ as b,c as f,w as s,o as m,i as w,t as g,u as K,a as y,k as C,l as $,m as B,n as h,p as L,q as _,V as H,e as u,r as z,j as J,s as W,f as Y,x as S,g as Q,h as X,v as Z}from"./router-31cdaec9.js";import{V as p}from"./VBtn-31669877.js";import{b as x,a as ee,V as te}from"./VTextarea-37bdc4f7.js";const ne=k({emits:["tweetNow"],props:{countdownTimer:{type:Object,required:!0}}});function oe(e,t,n,a,o,r){return e.countdownTimer.countdownActive?(m(),f(p,{key:0,block:"",disabled:""},{default:s(()=>[w(" Tweeting in "+g(e.countdownTimer.countdown)+"s ",1)]),_:1})):e.countdownTimer.sendTweet?(m(),f(p,{key:1,block:"",disabled:""},{default:s(()=>[w(" Tweet Sent ")]),_:1})):(m(),f(p,{key:2,block:"",onClick:t[0]||(t[0]=d=>e.$emit("tweetNow"))},{default:s(()=>[w("Tweet")]),_:1}))}const ae=b(ne,[["render",oe]]),le=k({emits:["editClicked","cancelClicked"],props:{countdownTimer:{type:Object,required:!0}}});function se(e,t,n,a,o,r){return e.countdownTimer.countdownActive||e.countdownTimer.sendTweet?(m(),f(p,{key:0,block:"",color:"red-darken-4",onClick:t[0]||(t[0]=d=>e.$emit("cancelClicked")),disabled:e.countdownTimer.sendTweet},{default:s(()=>[w(" Cancel ")]),_:1},8,["disabled"])):(m(),f(p,{key:1,block:"",onClick:t[1]||(t[1]=d=>e.$emit("editClicked"))},{default:s(()=>[w(" Edit ")]),_:1}))}const re=b(le,[["render",se]]),ue=k({components:{CancelEditButton:re,TweetButton:ae},setup(){K({title:"Tweetr"});const t=y("runDataArray","nodecg-speedcontrol"),n=y("selectedRunId","speedcontrol-tweetr"),a=y("countdownTimer","speedcontrol-tweetr"),o=y("tweetData","speedcontrol-tweetr");if(!t||!n||!a||!o)throw new Error("A replicant is missing");return{runDataArray:t,selectedRunId:n,countdownTimer:a,tweetData:o}},computed:{currentRun(){return this.selectedRunId.data||""},currentData(){var e;return((e=this.tweetData.data)==null?void 0:e[this.currentRun])||null}},methods:{sendTweetNow(){nodecg.sendMessage("sendTweet")},cancelTweet(){nodecg.sendMessage("cancelTweet")},openEditDialog(){var e;(e=nodecg.getDialog("editTweet"))==null||e.open()}}});const D=(()=>C.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}))(),R=(()=>C.reduce((e,t)=>{const n="offset"+$(t);return e[n]={type:[String,Number],default:null},e},{}))(),I=(()=>C.reduce((e,t)=>{const n="order"+$(t);return e[n]={type:[String,Number],default:null},e},{}))(),j={col:Object.keys(D),offset:Object.keys(R),order:Object.keys(I)};function de(e,t,n){let a=e;if(!(n==null||n===!1)){if(t){const o=t.replace(e,"");a+=`-${o}`}return e==="col"&&(a="v-"+a),e==="col"&&(n===""||n===!0)||(a+=`-${n}`),a.toLowerCase()}}const ie=["auto","start","end","center","baseline","stretch"],T=B()({name:"VCol",props:{cols:{type:[Boolean,String,Number],default:!1},...D,offset:{type:[String,Number],default:null},...R,order:{type:[String,Number],default:null},...I,alignSelf:{type:String,default:null,validator:e=>ie.includes(e)},...h()},setup(e,t){let{slots:n}=t;const a=L(()=>{const o=[];let r;for(r in j)j[r].forEach(i=>{const l=e[i],c=de(r,i,l);c&&o.push(c)});const d=o.some(i=>i.startsWith("v-col-"));return o.push({"v-col":!d||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),o});return()=>{var o;return _(e.tag,{class:a.value},(o=n.default)==null?void 0:o.call(n))}}}),V=["start","end","center"],P=["space-between","space-around","space-evenly"];function v(e,t){return C.reduce((n,a)=>{const o=e+$(a);return n[o]=t(),n},{})}const ce=[...V,"baseline","stretch"],O=e=>ce.includes(e),G=v("align",()=>({type:String,default:null,validator:O})),fe=[...V,...P],M=e=>fe.includes(e),U=v("justify",()=>({type:String,default:null,validator:M})),me=[...V,...P,"stretch"],q=e=>me.includes(e),F=v("alignContent",()=>({type:String,default:null,validator:q})),E={align:Object.keys(G),justify:Object.keys(U),alignContent:Object.keys(F)},we={align:"align",justify:"justify",alignContent:"align-content"};function ge(e,t,n){let a=we[e];if(n!=null){if(t){const o=t.replace(e,"");a+=`-${o}`}return a+=`-${n}`,a.toLowerCase()}}const A=B()({name:"VRow",props:{dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:O},...G,justify:{type:String,default:null,validator:M},...U,alignContent:{type:String,default:null,validator:q},...F,...h()},setup(e,t){let{slots:n}=t;const a=L(()=>{const o=[];let r;for(r in E)E[r].forEach(d=>{const i=e[d],l=ge(r,d,i);l&&o.push(l)});return o.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),o});return()=>{var o;return _(e.tag,{class:["v-row",a.value]},(o=n.default)==null?void 0:o.call(n))}}});function pe(e,t,n,a,o,r){const d=S("TweetButton"),i=S("CancelEditButton");return m(),f(H,null,{default:s(()=>[u(ee,{modelValue:e.selectedRunId.data,"onUpdate:modelValue":[t[0]||(t[0]=l=>e.selectedRunId.data=l),e.selectedRunId.save],label:"Run","item-value":"id","item-title":"game",items:e.runDataArray.data},{item:s(({props:l,item:c})=>[u(x,z(l,{title:""}),{default:s(()=>[w(g(c.raw.game)+", "+g(c.raw.category),1)]),_:2},1040)]),selection:s(({item:l})=>[J("span",null,g(l.raw.game)+", "+g(l.raw.category),1)]),_:1},8,["modelValue","items","onUpdate:modelValue"]),e.countdownTimer.data?(m(),f(A,{key:0},{default:s(()=>[u(T,null,{default:s(()=>[u(d,{"countdown-timer":e.countdownTimer.data,onTweetNow:e.sendTweetNow},null,8,["countdown-timer","onTweetNow"])]),_:1}),u(T,null,{default:s(()=>[u(i,{"countdown-timer":e.countdownTimer.data,onCancelClicked:e.cancelTweet,onEditClicked:e.openEditDialog},null,8,["countdown-timer","onCancelClicked","onEditClicked"])]),_:1})]),_:1})):W("",!0),u(A,null,{default:s(()=>[u(T,null,{default:s(()=>{var l,c;return[u(te,{label:"Tweet",readonly:"","model-value":(l=e.currentData)==null?void 0:l.content},null,8,["model-value"]),u(Y,{label:"Media",readonly:"","model-value":((c=e.currentData)==null?void 0:c.media)||"None"},null,8,["model-value"])]}),_:1})]),_:1})]),_:1})}const ye=b(ue,[["render",pe]]),N=Q(ye),Ce=X();N.use(Z);N.use(Ce);N.mount("#app");
